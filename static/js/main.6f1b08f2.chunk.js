(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{29:function(e,t,a){e.exports=a(40)},34:function(e,t,a){},35:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),s=a.n(c),o=(a(34),a(5));a(35);var i=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),u=Object(o.a)(i,2),l=u[0],f=u[1],m=function(){e.handleMark(e.r,e.c),f(!0)};return r.a.createElement("div",{className:function(){var t="cell";return"marked"===e.state.state?t+=" cell-flagged":"shown"===e.state.state&&(e.state.bomb?t+=" cell-bomb":t+=" cell-"+e.state.count),t}(),onPointerDown:function(e){if(0===e.button){var t=setTimeout(m,500);s(t)}},onPointerUp:function(t){0===t.button&&(clearTimeout(c),l?f(!1):e.handleUncover(e.r,e.c))},onContextMenu:function(t){t.preventDefault(),2===t.button&&e.handleMark(e.r,e.c)}})};var u=function(e){var t={gridTemplateColumns:"repeat("+e.difficulty.columns+", 1fr)"},a=Object(n.useState)(0),c=Object(o.a)(a,2),s=c[0],u=c[1],l=Object(n.useState)(0),f=Object(o.a)(l,2),m=f[0],d=f[1],b=Object(n.useState)(!1),v=Object(o.a)(b,2),g=v[0],h=v[1],y=Object(n.useState)((function(){for(var t=[],a=0;a<e.difficulty.rows;a++){t[a]=[];for(var n=0;n<e.difficulty.columns;n++)t[a][n]={bomb:!1,state:"hidden",count:0}}return t})),w=Object(o.a)(y,2),O=w[0],j=w[1],E=function(t,a){return t>=0&&t<e.difficulty.rows&&a>=0&&a<e.difficulty.columns},p=function(e,t){var a=[Math.ceil(e),Math.floor(t)];return t=a[1],(e=a[0])+Math.floor(Math.random()*(t-e+1))},S=function(e,t,a){for(var n,r,c=0,s=-1;s<=1;s++)for(var o=-1;o<=1;o++)c+=E(n=e+s,r=t+o)&&a[n][r].bomb?1:0;return c},k=function(){for(var t=0,a=0;a<e.difficulty.rows;a++)for(var n=0;n<e.difficulty.columns;n++)"marked"===O[a][n].state&&(t+=1);u(t)};Object(n.useEffect)((function(){"inProgress"===e.status&&(g?(!function(){for(var t=O,a=0;a<e.difficulty.rows;a++)for(var n=0;n<e.difficulty.columns;n++)t[a][n].bomb&&"hidden"===t[a][n].state&&(t[a][n].state="shown");j(t)}(),e.changeStatus("lost")):m===e.difficulty.rows*e.difficulty.columns-e.difficulty.bombs&&(!function(){for(var t=O,a=0;a<e.difficulty.rows;a++)for(var n=0;n<e.difficulty.columns;n++)t[a][n].bomb&&"hidden"===t[a][n].state&&(t[a][n].state="marked");j(t),k()}(),e.changeStatus("won")))})),Object(n.useEffect)((function(){var t=e.difficulty.bombs-s;e.updateFlagCount(t)}),[s]);var B=function(t,a){if("won"!==e.status&&"lost"!==e.status&&E(t,a)&&("new"===e.status&&(!function(t,a){for(var n=[],r=0;r<e.difficulty.rows;r++)for(var c=0;c<e.difficulty.columns;c++)(Math.abs(t-r)>2||Math.abs(a-c)>2)&&n.push([r,c]);for(var s=O,i=0;i<e.difficulty.bombs;i++){var u=p(i,n.length-1),l=[n[u],n[i]];n[i]=l[0],n[u]=l[1];var f=Object(o.a)(n[i],2),m=f[0],d=f[1];s[m][d].bomb=!0}for(var b=0;b<e.difficulty.rows;b++)for(var v=0;v<e.difficulty.columns;v++)"marked"===s[b][v].state&&(s[b][v].state="hidden"),s[b][v].count=S(b,v,s);j(s)}(t,a),e.changeStatus("inProgress")),"hidden"===O[t][a].state)){var n=O;!function e(t,a,n){E(t,a)&&"hidden"===n[t][a].state&&(n[t][a].state="shown",d((function(e){return e+1})),0===n[t][a].count&&(e(t-1,a-1,n),e(t-1,a,n),e(t-1,a+1,n),e(t,a-1,n),e(t,a+1,n),e(t+1,a-1,n),e(t+1,a,n),e(t+1,a+1,n)))}(t,a,n),j(n),O[t][a].bomb&&h(!0)}},M=function(t,a){if("won"!==e.status&&"lost"!==e.status&&E(t,a)&&"shown"!==O[t][a].state){var n=O;n[t][a].state="marked"===n[t][a].state?"hidden":"marked",j(n),k()}};return r.a.createElement("div",{className:"grid",style:t},function(e,t){for(var a=[],n=0;n<t;n++)for(var c=0;c<e;c++)a.push(r.a.createElement(i,{key:n*e+c,r:n,c:c,state:O[n][c],handleUncover:B,handleMark:M}));return a}(e.difficulty.columns,e.difficulty.rows))},l=a(26),f=a(10),m=a(45),d=a(46),b=a(47),v=a(48);var g=function(e){var t=Object(n.useState)(e.status),a=Object(o.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(0),u=Object(o.a)(i,2),g=u[0],h=u[1],y=Object(n.useState)(),w=Object(o.a)(y,2),O=w[0],j=w[1],E=Object(n.useState)("timerBadge"),p=Object(o.a)(E,2),S=p[0],k=p[1],B=Object(n.useState)("difficultyButton"),M=Object(o.a)(B,2),I=M[0],N=M[1],P=Object(n.useState)("gameOverBadge"),C=Object(o.a)(P,2),D=C[0],x=C[1],K=function(t){e.changeDifficulty(t)};Object(n.useEffect)((function(){if("new"===c&&"inProgress"===e.status){var t=setInterval((function(){return h((function(e){return e+1}))}),1e3);j(t),s(e.status)}else"inProgress"===c&&"won"===e.status?(clearInterval(O),k("timerBadge-won"),N("difficultyButton-won"),x("gameOverBadge-won"),s(e.status)):"inProgress"===c&&"lost"===e.status?(clearInterval(O),k("timerBadge-lost"),N("difficultyButton-lost"),x("gameOverBadge-lost"),s(e.status)):"new"===e.status&&(clearInterval(O),k("timerBadge"),N("difficultyButton"),h(0),s(e.status))}),[e.status]);var T=function(){e.changeDifficulty(e.difficulty)};return r.a.createElement("div",{className:"control-panel"},r.a.createElement(d.a,{fluid:!0},r.a.createElement(b.a,null,r.a.createElement(v.a,{xs:4,md:4,align:"center",id:"difficultyCol"},r.a.createElement(l.a,{title:"Difficulty",variant:"light",id:I},r.a.createElement(f.a,{onSelect:K,eventKey:"easy"},"Easy"),r.a.createElement(f.a,{onSelect:K,eventKey:"medium"},"Medium"),r.a.createElement(f.a,{onSelect:K,eventKey:"hard"},"Hard"))),r.a.createElement(v.a,{xs:4,md:4,align:"center"},r.a.createElement(m.a,{variant:"light",id:S},r.a.createElement("img",{src:"stopwatch.png",height:"20px",className:"badgeIcon"}),r.a.createElement("span",{id:"timerDisplay"},function(){var e=Math.floor(g/60),t=g%60,a="";return a+=e>=10?e:"0"+e,a+=":",a+=t>=10?t:"0"+t}()))),r.a.createElement(v.a,{xs:4,md:4,align:"center"},("won"===c||"lost"===c)&&function(){var t="won"===e.status?"Win":"Lose";return r.a.createElement(m.a,{variant:"light",id:D},r.a.createElement("span",{id:"gameEndMessage"},"You ",t,"!"),r.a.createElement("img",{id:"resetButton",src:"reset.png",className:"badgeIcon",onClick:T}))}(),("new"===c||"inProgress"===c)&&r.a.createElement(m.a,{variant:"light",id:"flagsBadge"},r.a.createElement("img",{src:"flag_hollow.png",className:"badgeIcon"}),r.a.createElement("span",{id:"flagCount"},e.flags))))))};var h=function(){var e=Object(n.useState)({level:"easy",columns:10,rows:8,bombs:10}),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(0),i=Object(o.a)(s,2),l=i[0],f=i[1],m=Object(n.useState)("new"),d=Object(o.a)(m,2),b=d[0],v=d[1],h=Object(n.useState)(a.bombs),y=Object(o.a)(h,2),w=y[0],O=y[1];return Object(n.useEffect)((function(){O(a.bombs)}),[a]),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"game-container"},r.a.createElement(g,{difficulty:a.level,changeDifficulty:function(e){f((function(e){return e+1})),v("new"),c("easy"===e?{level:"easy",columns:10,rows:8,bombs:10}:"medium"===e?{level:"medium",columns:18,rows:12,bombs:40}:{level:"hard",columns:24,rows:20,bombs:99})},flags:w,status:b}),r.a.createElement(u,{key:l,difficulty:a,changeStatus:v,status:b,updateFlagCount:O})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(39);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.6f1b08f2.chunk.js.map